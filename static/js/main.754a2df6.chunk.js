(this["webpackJsonpquestions-messenger-test"]=this["webpackJsonpquestions-messenger-test"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),r=s(8),a=s.n(r),i=(s(15),s(16),s(3)),l=s(9),o=s(2),u=function(e,t){switch(t.type){case"SET_STORE":return Object(o.a)({},t.payload);case"SELECT_SECTION":return Object(o.a)(Object(o.a)({},e),{},{activeSection:t.payload});case"ADD_SECTION":return Object(o.a)(Object(o.a)({},e),{},{sections:[].concat(Object(l.a)(e.sections),[t.payload])});case"UPDATE_SECTION_ID":return Object(o.a)(Object(o.a)({},e),{},{currentId:e.currentId+1});case"ADD_MESSAGE":return Object(o.a)(Object(o.a)({},e),{},{sections:e.sections.map((function(s){return s.id===e.activeSection&&s.messages.push(t.payload),s}))});case"UPDATE_MESSAGE_ID":return Object(o.a)(Object(o.a)({},e),{},{sections:e.sections.map((function(t){return t.id===e.activeSection&&(t.currentId+=1),t}))});default:return e}},j={activeSection:null,currentId:2,sections:[{id:0,title:"initial section 1",currentId:3,messages:[{id:0,title:"Default question message 1",time:new Date(2021,0,22),isSuccess:!0},{id:1,title:"Default question message 2",time:new Date(2021,0,21)},{id:2,title:"Default question message 2",time:new Date(2021,0,21)}]},{id:1,title:"initial section 2",currentId:2,messages:[{id:0,title:"Default question message 11",time:new Date(2021,0,20),isSuccess:!1},{id:1,title:"Default question message 22",time:new Date(2021,0,19),isSuccess:!0}]}]},m=Object(c.createContext)(j),d=function(e){var t=e.children,s=Object(c.useReducer)(u,j),r=Object(i.a)(s,2),a=r[0],l=r[1];return Object(n.jsx)(m.Provider,{value:[a,l],children:t})};s(17),s(18);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}var O=c.createElement("path",{d:"M13.98 0C6.259 0 0 6.26 0 13.982s6.259 13.981 13.98 13.981c7.725 0 13.983-6.26 13.983-13.981C27.963 6.26 21.705 0 13.98 0zm7.122 16.059h-4.939v5.042h-4.299v-5.042H6.862V11.76h5.001v-4.9h4.299v4.9h4.939v4.299h.001z"});function p(e,t){var s=e.title,n=e.titleId,r=f(e,["title","titleId"]);return c.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27.963 27.963",ref:t,"aria-labelledby":n},r),s?c.createElement("title",{id:n},s):null,O)}var v=c.forwardRef(p),h=(s.p,function(){return Object(n.jsxs)("div",{className:"profile",children:[Object(n.jsx)("img",{className:"profile__avatar",src:"https://static.1tv.ru/uploads/photo/image/2/huge/4062_huge_876c41f50e.jpg",alt:"avatar"}),Object(n.jsxs)("div",{className:"profile__user-info",children:[Object(n.jsx)("p",{className:"profile__name",children:"David Hill"}),Object(n.jsx)("p",{className:"profile__status",children:"online"})]}),Object(n.jsx)("button",{className:"profile__button",children:Object(n.jsx)(v,{className:"profile__button-icon"})})]})});s(19),s(20),s(21);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}var _=c.createElement("path",{d:"M312.461 332.734H199.539c-8.511 0-15.434 6.923-15.434 15.434v34.634c0 8.511 6.923 15.435 15.434 15.435h112.923c8.511 0 15.435-6.923 15.435-15.435v-34.634c-.002-8.51-6.925-15.434-15.436-15.434zm-4.41 45.659H203.948v-25.814h104.103v25.814z"}),y=c.createElement("path",{d:"M506.976 246.958l.159-.08L432.73 99.774c-6.015-11.89-18.025-19.275-31.346-19.275h-14.141V66.824c0-5.48-4.442-9.922-9.922-9.922H134.68c-5.48 0-9.922 4.442-9.922 9.922v13.675h-14.141c-13.321 0-25.331 7.385-31.346 19.275L4.865 246.878l.159.08A34.54 34.54 0 0 0 0 264.939v155.409c0 19.162 15.59 34.751 34.752 34.751h442.497c19.162 0 34.751-15.59 34.751-34.751V264.939a34.54 34.54 0 0 0-5.024-17.981zm-119.734-144.41h14.141a13.02 13.02 0 0 1 11.671 7.179l60.93 120.462h-41.431v-37.066c0-5.48-4.442-9.922-9.922-9.922h-12.275v-53.227c0-5.48-4.442-9.922-9.922-9.922h-13.192v-17.504zm25.468 100.496v27.144h-52.359a22.925 22.925 0 0 0-20.865 13.482l-14.296 31.71a.841.841 0 0 1-.764.493H187.575a.84.84 0 0 1-.764-.494l-14.295-31.708a22.926 22.926 0 0 0-20.866-13.483H99.291v-27.144H412.71zM144.602 76.746h222.796v43.305H144.602V76.746zm245.91 63.149V183.2H121.488v-43.305h269.024zM98.946 109.727a13.017 13.017 0 0 1 11.671-7.179h14.141v17.503h-13.192c-5.48 0-9.922 4.442-9.922 9.922V183.2H89.369c-5.48 0-9.922 4.442-9.922 9.922v37.066H38.016l60.93-120.461zm378.303 323.322H34.752c-7.004 0-12.703-5.699-12.703-12.701V264.939c0-7.003 5.698-12.701 12.703-12.701H151.65c.328 0 .629.194.765.495l14.295 31.708a22.923 22.923 0 0 0 20.865 13.481h136.85a22.924 22.924 0 0 0 20.865-13.48l14.296-31.709v-.001a.84.84 0 0 1 .764-.494h116.898c7.004 0 12.701 5.699 12.701 12.701v155.409h.001c.001 7.004-5.697 12.701-12.701 12.701z"});function N(e,t){var s=e.title,n=e.titleId,r=x(e,["title","titleId"]);return c.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},r),s?c.createElement("title",{id:n},s):null,_,y)}var w=c.forwardRef(N),S=(s.p,s(6)),E=s.n(S),I=function(e){var t=e.title,s=e.numberOfMessage,c=e.onClick,r=e.isActive;return Object(n.jsx)("li",{className:E()("msg-sections-item",{"msg-sections-item_active":r}),children:Object(n.jsxs)("button",{className:"msg-sections-item__button",onClick:c,children:[Object(n.jsx)(w,{className:"msg-sections-item__icon"}),Object(n.jsxs)("p",{className:"msg-sections-item__title",children:[t," (",s,")"]})]})})},D=function(e){localStorage.setItem("questions-data",JSON.stringify(e))},M=function(){return JSON.parse(localStorage.getItem("questions-data"))},C=function(){localStorage.removeItem("questions-data")},P=function(){var e=Object(c.useContext)(m),t=Object(i.a)(e,2),s=t[0],r=t[1];return Object(c.useEffect)((function(){M()?r({type:"SET_STORE",payload:M()}):D(s)}),[]),Object(c.useEffect)((function(){M()&&(C(),D(s))}),[s]),Object(n.jsx)("ul",{className:"msg-sections",children:s.sections.map((function(e){return Object(n.jsx)(I,{title:e.title,numberOfMessage:e.messages.length,onClick:function(){r({type:"SELECT_SECTION",payload:e.id})},isActive:e.id===s.activeSection},e.id)}))})},A=function(){return Object(n.jsxs)("div",{className:"msg-section-container",children:[Object(n.jsx)("h3",{className:"msg-section-container__title",children:"Messages"}),Object(n.jsx)("p",{className:"msg-section-container__subtitle",children:"history"}),Object(n.jsx)("nav",{className:"msg-section-container__wrapper",children:Object(n.jsx)(P,{})})]})},H=function(){var e=Object(c.useContext)(m),t=Object(i.a)(e,2),s=t[0],r=t[1];return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)(h,{}),Object(n.jsx)(A,{}),Object(n.jsx)("div",{className:"sidebar__button-container",children:Object(n.jsx)("button",{className:"sidebar__button",onClick:function(e){e.preventDefault(),r({type:"ADD_SECTION",payload:{id:s.currentId,title:"section ".concat(s.currentId),currentId:0,messages:[]}}),r({type:"UPDATE_SECTION_ID"})},children:"Add"})})]})};s(22),s(23);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}var q=c.createElement("path",{d:"M0 63.75l127.5 127.5L255 63.75z"});function k(e,t){var s=e.title,n=e.titleId,r=T(e,["title","titleId"]);return c.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 255 255",ref:t,"aria-labelledby":n},r),s?c.createElement("title",{id:n},s):null,q)}var R=c.forwardRef(k),V=(s.p,function(){return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("h2",{className:"header__title",children:"Questions Messenger"}),Object(n.jsxs)("div",{className:"header__select-container",children:[Object(n.jsxs)("select",{className:"header__select",size:"1",children:[Object(n.jsx)("option",{className:"header__select-option",value:"All questions",children:"All questions"}),Object(n.jsx)("option",{className:"header__select-option",value:"Part questions",children:"Part questions"}),Object(n.jsx)("option",{className:"header__select-option",value:"Questions",children:"Questions"})]}),Object(n.jsx)(R,{className:"header__select-icon"})]})]})});s(24),s(25);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}var B=c.createElement("path",{d:"M256 512C114.836 512 0 397.164 0 256S114.836 0 256 0s256 114.836 256 256-114.836 256-256 256zm0-480C132.48 32 32 132.48 32 256s100.48 224 224 224 224-100.48 224-224S379.52 32 256 32zm0 0"}),G=c.createElement("path",{d:"M368 272H144c-8.832 0-16-7.168-16-16s7.168-16 16-16h224c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0"}),Q=c.createElement("path",{d:"M256 384c-8.832 0-16-7.168-16-16V144c0-8.832 7.168-16 16-16s16 7.168 16 16v224c0 8.832-7.168 16-16 16zm0 0"});function U(e,t){var s=e.title,n=e.titleId,r=L(e,["title","titleId"]);return c.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},r),s?c.createElement("title",{id:n},s):null,B,G,Q)}var F=c.forwardRef(U);s.p,s(26);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}var X=c.createElement("path",{d:"M20.687 38.332a5.308 5.308 0 0 1-7.505 0L1.554 26.704A5.306 5.306 0 1 1 9.059 19.2l6.928 6.927a1.344 1.344 0 0 0 1.896 0L36.642 7.368a5.308 5.308 0 0 1 7.505 7.504l-23.46 23.46z"});function Y(e,t){var s=e.title,n=e.titleId,r=W(e,["title","titleId"]);return c.createElement("svg",K({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45.701 45.7",ref:t,"aria-labelledby":n},r),s?c.createElement("title",{id:n},s):null,X)}var Z=c.forwardRef(Y),$=(s.p,function(e){var t=e.id;return Object(n.jsxs)("div",{className:"success-status",children:[Object(n.jsxs)("p",{className:"success-status__id",children:["Q",t]}),Object(n.jsx)("div",{className:"success-status__icon-container",children:Object(n.jsx)(Z,{className:"success-status__icon"})}),Object(n.jsx)("p",{className:"success-status__closed",children:"Closed"})]})}),ee=(s(27),function(e){var t=e.time,s=e.id;return Object(n.jsxs)("div",{className:"execution-status",children:[Object(n.jsxs)("p",{className:"execution-status__id",children:["Q",s]}),Object(n.jsx)("div",{className:"execution-status__past-time-container",children:Object(n.jsxs)("p",{className:"execution-status__past-time",children:[t,"h"]})})]})}),te=function(e){var t,s=e.className,c=e.title,r=e.time,a=e.id,i=e.isSuccess;return Object(n.jsxs)("article",{className:E()("messages-item",s),children:[i?Object(n.jsx)($,{id:a}):Object(n.jsx)(ee,{time:Math.floor((new Date-r)/1e3/60/60),id:a}),Object(n.jsxs)("div",{className:"messages-item__text",children:[Object(n.jsx)("p",{className:"messages-item__question",children:c}),Object(n.jsxs)("p",{className:"messages-item__time",children:["Guest ",r.getHours()>12?r.getHours()-12:r.getHours(),":",r.getMinutes()," ",r.getHours()>12?"pm":"am"," -"," ",r.getDate()," ",(t=r.getMonth(),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t])]})]}),Object(n.jsx)("div",{className:"messages-item__button-container",children:Object(n.jsx)("button",{className:"messages-item__button",children:Object(n.jsx)(F,{className:"messages-item__button-icon"})})})]})},se=function(){var e=Object(c.useContext)(m),t=Object(i.a)(e,1)[0];Object(c.useEffect)((function(){M()&&(C(),D(t))}),[t]);var s=t.sections.find((function(e){return e.id===t.activeSection}));return Object(n.jsx)("section",{className:"messages",children:Number.isInteger(t.activeSection)&&s?s.messages.map((function(e){return Object(n.jsx)(te,{className:"messages__messages-item",title:e.title,time:new Date(e.time),id:e.id,isSuccess:null===e||void 0===e?void 0:e.isSuccess},e.id)})):Object(n.jsx)("p",{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b"})})},ne=(s(28),function(){var e=Object(c.useContext)(m),t=Object(i.a)(e,2),s=t[0],r=t[1],a=Object(c.useRef)(null),l=Object(c.useRef)(null),o=function(e){e.preventDefault();var t=s.sections.find((function(e){return e.id===s.activeSection}));if(!Number.isInteger(s.activeSection)||!t||""===a.current.value.trim())return null;r({type:"ADD_MESSAGE",payload:{title:a.current.value,id:t.currentId,time:new Date,isSuccess:1===Math.floor(2*Math.random())}}),r({type:"UPDATE_MESSAGE_ID"}),l.current.reset()};return Object(n.jsxs)("form",{className:"form",onSubmit:o,ref:l,children:[Object(n.jsx)("textarea",{type:"text",className:"form__message",ref:a,placeholder:"Enter your message"}),Object(n.jsx)("button",{className:"form__button",type:"button",onClick:o,children:Object(n.jsx)(F,{className:"form__button-icon"})})]})}),ce=function(){return Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(V,{}),Object(n.jsx)(se,{}),Object(n.jsx)(ne,{})]})},re=function(){return Object(n.jsx)(d,{children:Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(H,{}),Object(n.jsx)(ce,{})]})})};a.a.render(Object(n.jsx)(re,{}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.754a2df6.chunk.js.map